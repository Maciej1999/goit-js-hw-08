{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACMC,EAAOC,SAASC,cAAc,kBAEpCC,OAAOC,iBAAiB,QAAQ,WAC9B,IAAMC,EAAYC,aAAaC,QAAQ,uBACjCC,EAAOC,KAAKC,MAAML,GACxB,IACEM,MAAMC,KAAKZ,EAAKa,UAAUC,SAAQ,SAAAC,GAChB,UAAZA,EAAGC,OACLD,EAAGE,MAAQT,EAAKU,OAEF,YAAZH,EAAGC,OACLD,EAAGE,MAAQT,EAAKW,Q,GAGN,CAAd,MAAOC,GAAO,C,IAGlBpB,EAAKI,iBACH,QACAiB,EAAAvB,GAAEwB,UAAS,SAAAC,GACTA,EAAEC,iBACF,IAAIhB,EAAO,GACXG,MAAMC,KAAKZ,EAAKa,UAAUC,SAAQ,SAAAC,GAChB,UAAZA,EAAGC,OACLR,EAAKU,MAAQH,EAAGE,OAEF,YAAZF,EAAGC,OACLR,EAAKW,QAAUJ,EAAGE,M,IAGtB,IAAMQ,EAAWhB,KAAKiB,UAAUlB,GAChCF,aAAaqB,QAAQ,sBAAuBF,E,GAC3C,MAGLzB,EAAKI,iBAAiB,UAAU,SAAAmB,GAC9BA,EAAEC,iBACFb,MAAMC,KAAKZ,EAAKa,UAAUC,SAAQ,SAAAC,GAChB,UAAZA,EAAGC,MAAgC,YAAZD,EAAGC,OAC5BD,EAAGE,MAAQ,G,IAGf,IAAMZ,EAAYC,aAAaC,QAAQ,uBACjCC,EAAOC,KAAKC,MAAML,GACxBuB,QAAQC,IAAIrB,GACZF,aAAawB,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nconst form = document.querySelector('.feedback-form');\n\nwindow.addEventListener('load', () => {\n  const valueJSON = localStorage.getItem('feedback-form-state');\n  const data = JSON.parse(valueJSON);\n  try {\n    Array.from(form.elements).forEach(el => {\n      if (el.name === 'email') {\n        el.value = data.email;\n      }\n      if (el.name === 'message') {\n        el.value = data.message;\n      }\n    });\n  } catch (error) {}\n});\n\nform.addEventListener(\n  'input',\n  _.throttle(e => {\n    e.preventDefault();\n    let data = {};\n    Array.from(form.elements).forEach(el => {\n      if (el.name === 'email') {\n        data.email = el.value;\n      }\n      if (el.name === 'message') {\n        data.message = el.value;\n      }\n    });\n    const dataJSON = JSON.stringify(data);\n    localStorage.setItem('feedback-form-state', dataJSON);\n  }, 500)\n);\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  Array.from(form.elements).forEach(el => {\n    if (el.name === 'email' || el.name === 'message') {\n      el.value = '';\n    }\n  });\n  const valueJSON = localStorage.getItem('feedback-form-state');\n  const data = JSON.parse(valueJSON);\n  console.log(data);\n  localStorage.clear();\n});\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","window","addEventListener","valueJSON","localStorage","getItem","data","JSON","parse","Array","from","elements","forEach","el","name","value","email","message","error","$parcel$interopDefault","throttle","e","preventDefault","dataJSON","stringify","setItem","console","log","clear"],"version":3,"file":"03-feedback.1b8935b2.js.map"}