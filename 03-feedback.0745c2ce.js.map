{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAOC,SAASC,cAAc,kBAEpCC,OAAOC,iBAAiB,QAAQ,KAC9B,MAAMC,EAAYC,aAAaC,QAAQ,uBACjCC,EAAOC,KAAKC,MAAML,GACxB,IACEM,MAAMC,KAAKZ,EAAKa,UAAUC,SAAQC,IAChB,UAAZA,EAAGC,OACLD,EAAGE,MAAQT,EAAKU,OAEF,YAAZH,EAAGC,OACLD,EAAGE,MAAQT,EAAKW,QAAO,GAGb,CAAd,MAAOC,GAAO,KAGlBpB,EAAKI,iBACH,QACAiB,EAAAvB,GAAEwB,UAASC,IACTA,EAAEC,iBACF,IAAIhB,EAAO,GACXG,MAAMC,KAAKZ,EAAKa,UAAUC,SAAQC,IAChB,UAAZA,EAAGC,OACLR,EAAKU,MAAQH,EAAGE,OAEF,YAAZF,EAAGC,OACLR,EAAKW,QAAUJ,EAAGE,MAAK,IAG3B,MAAMQ,EAAWhB,KAAKiB,UAAUlB,GAChCF,aAAaqB,QAAQ,sBAAuBF,EAAS,GACpD,MAGLzB,EAAKI,iBAAiB,UAAUmB,IAC9BA,EAAEC,iBACFb,MAAMC,KAAKZ,EAAKa,UAAUC,SAAQC,IAChB,UAAZA,EAAGC,MAAgC,YAAZD,EAAGC,OAC5BD,EAAGE,MAAQ,GAAE,IAGjB,MAAMZ,EAAYC,aAAaC,QAAQ,uBACjCC,EAAOC,KAAKC,MAAML,GACxBuB,QAAQC,IAAIrB,GACZF,aAAawB,OAAO","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nconst form = document.querySelector('.feedback-form');\n\nwindow.addEventListener('load', () => {\n  const valueJSON = localStorage.getItem('feedback-form-state');\n  const data = JSON.parse(valueJSON);\n  try {\n    Array.from(form.elements).forEach(el => {\n      if (el.name === 'email') {\n        el.value = data.email;\n      }\n      if (el.name === 'message') {\n        el.value = data.message;\n      }\n    });\n  } catch (error) {}\n});\n\nform.addEventListener(\n  'input',\n  _.throttle(e => {\n    e.preventDefault();\n    let data = {};\n    Array.from(form.elements).forEach(el => {\n      if (el.name === 'email') {\n        data.email = el.value;\n      }\n      if (el.name === 'message') {\n        data.message = el.value;\n      }\n    });\n    const dataJSON = JSON.stringify(data);\n    localStorage.setItem('feedback-form-state', dataJSON);\n  }, 500)\n);\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  Array.from(form.elements).forEach(el => {\n    if (el.name === 'email' || el.name === 'message') {\n      el.value = '';\n    }\n  });\n  const valueJSON = localStorage.getItem('feedback-form-state');\n  const data = JSON.parse(valueJSON);\n  console.log(data);\n  localStorage.clear();\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","window","addEventListener","valueJSON","localStorage","getItem","data","JSON","parse","Array","from","elements","forEach","el","name","value","email","message","error","$parcel$interopDefault","throttle","e","preventDefault","dataJSON","stringify","setItem","console","log","clear"],"version":3,"file":"03-feedback.0745c2ce.js.map"}